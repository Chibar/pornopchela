(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9616:function(e,r,t){Promise.resolve().then(t.bind(t,1523)),Promise.resolve().then(t.bind(t,49)),Promise.resolve().then(t.bind(t,7061))},7061:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var i=t(7437),n=t(2265),s=t(5293),d=t(535),a=t(1994),o=t(3335);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.m6)((0,a.W)(r))}let c=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,r)=>{let{className:t,variant:n,size:d,asChild:a=!1,...o}=e,u=a?s.g7:"button";return(0,i.jsx)(u,{className:l(c({variant:n,size:d,className:t})),ref:r,...o})});u.displayName="Button";let f=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:r,className:l("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});f.displayName="Card";let m=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:r,className:l("flex flex-col space-y-1.5 p-6",t),...n})});m.displayName="CardHeader";let p=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:r,className:l("text-2xl font-semibold leading-none tracking-tight",t),...n})});p.displayName="CardTitle";let x=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:r,className:l("text-sm text-muted-foreground",t),...n})});x.displayName="CardDescription";let g=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:r,className:l("p-6 pt-0",t),...n})});g.displayName="CardContent";let h=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,i.jsx)("div",{ref:r,className:l("flex items-center p-6 pt-0",t),...n})});h.displayName="CardFooter";let b=[{id:1,name:"Кайф",price:300,description:"Описание 1",image:"/products/0.jpg"},{id:2,name:"Балдёж",price:400,description:"Описание 2",image:"/products/1.jpg"},{id:3,name:"Красота",price:500,description:"Описание 3",image:"/products/2.jpg"},{id:4,name:"Идеально",price:200,description:"Описание 4",image:"/products/3.jpg"}];function v(){let[e,r]=(0,n.useState)({}),[t,s]=(0,n.useState)("View Cart"),[d,a]=(0,n.useState)(!1);(0,n.useEffect)(()=>{var e;(null===(e=window.Telegram)||void 0===e?void 0:e.WebApp)&&(a(!0),window.Telegram.WebApp.ready(),window.Telegram.WebApp.MainButton.setText("View Cart").show())},[]),(0,n.useEffect)(()=>{if(d){let r=Object.values(e).reduce((e,r)=>e+r,0),t="View Cart (".concat(r,")");s(t),window.Telegram.WebApp.MainButton.setText(t)}},[e,d]);let o=e=>{r(r=>({...r,[e]:(r[e]||0)+1}))};return(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Telegram Shop"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(e=>(0,i.jsxs)(f,{children:[(0,i.jsxs)(m,{children:[(0,i.jsx)(p,{children:e.name}),(0,i.jsxs)(x,{children:[e.price.toFixed(2)," ₽"]})]}),(0,i.jsx)(g,{children:(0,i.jsx)("p",{children:e.description})}),(0,i.jsx)(h,{children:(0,i.jsx)(u,{onClick:()=>o(e.id),children:"В корзину"})})]},e.id))}),(0,i.jsxs)("div",{className:"mt-8",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Корзина"}),0===Object.keys(e).length?(0,i.jsx)("p",{children:"Пусто"}):(0,i.jsxs)("div",{children:[Object.entries(e).map(e=>{let[r,t]=e,n=b.find(e=>e.id===Number(r));return n?(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,i.jsxs)("span",{children:[n.name," x ",t]}),(0,i.jsxs)("span",{children:[(n.price*t).toFixed(2)," ₽"]})]},r):null}),(0,i.jsxs)("div",{className:"font-bold mt-4",children:["Итого: ",Object.entries(e).reduce((e,r)=>{let[t,i]=r,n=b.find(e=>e.id===Number(t));return e+(n?n.price*i:0)},0).toFixed(2)," ₽"]})]})]})]})}}},function(e){e.O(0,[312,971,117,744],function(){return e(e.s=9616)}),_N_E=e.O()}]);